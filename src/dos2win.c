#include "cgui/dw_conv.h"

static unsigned char dos2win[128] = {
   'Ç',
   'ü',
   'é',
   'â',
   'ä',
   'à',
   'å',
   'ç',
   'ê',
   'ë',
   'è',
   'ï',
   'î',
   'ì',
   'Ä',
   'Å',
   'É',
   'æ',
   'Æ',
   'ô',
   'ö',
   'ò',
   'û',
   'ù',
   'ÿ',
   'Ö',
   'Ü',
   'ø',
   '£',
   'Ø',
   '×',
   'ƒ',
   'á',
   'í',
   'ó',
   'ú',
   'ñ',
   'Ñ',
   'ª',
   'º',
   '¿',
   '®',
   '¬',
   '½',
   '¼',
   '¡',
   '«',
   '»',
   '_',
   '_',
   '_',
   '¦',
   '¦',
   'Á',
   'Â',
   'À',
   '©',
   '¦',
   '¦',
   '+',
   '+',
   '¢',
   '¥',
   '+',
   '+',
   '-',
   '-',
   '+',
   '-',
   '+',
   'ã',
   'Ã',
   '+',
   '+',
   '-',
   '-',
   '¦',
   '-',
   '+',
   '¤',
   'ð',
   'Ð',
   'Ê',
   'Ë',
   'È',
   'i',
   'Í',
   'Î',
   'Ï',
   '+',
   '+',
   '_',
   '_',
   '¦',
   'Ì',
   '_',
   'Ó',
   'ß',
   'Ô',
   'Ò',
   'õ',
   'Õ',
   'µ',
   'þ',
   'Þ',
   'Ú',
   'Û',
   'Ù',
   'ý',
   'Ý',
   '¯',
   '´',
   '­',
   '±',
   '_',
   '¾',
   '¶',
   '§',
   '÷',
   '¸',
   '°',
   '¨',
   '·',
   '¹',
   '³',
   '²',
   '_',
   '_'
};

extern char *Dos2Win(const char *src, char *dest)
{
   unsigned char *d;
   const unsigned char *s;

   for (d = (unsigned char *)dest, s = (const unsigned char *)src; *s; d++, s++)
      if (*s & 0x80)
         *d = dos2win[*s - 128];
      else
         *d = *s;
   *d = 0;
   return dest;
}
